"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MySQL2MockConnection = exports.MySQL2Mock = void 0;
class MySQL2Mock {
    constructor() {
        this.cons = [];
    }
    get openCons() {
        return this.cons.filter((con) => !con.isClosed);
    }
    get closedCons() {
        return this.cons.filter((con) => con.isClosed);
    }
    async getConnection() {
        const con = new MySQL2MockConnection();
        this.cons.push(con);
        return con;
    }
}
exports.MySQL2Mock = MySQL2Mock;
class MySQL2MockConnection {
    constructor() {
        this.logs = [];
        this.isClosed = false;
    }
    async query(...args) {
        this.logs.push(args);
        return Promise.resolve([]);
    }
    release() {
        this.isClosed = true;
    }
}
exports.MySQL2MockConnection = MySQL2MockConnection;
