import type { Connection, PoolConnection } from 'mysql2/promise';
import type { MySQL2Extended } from './index';
export declare type DataValue = string | number | null | Date;
export declare type BindValue = DataValue | DataValue[];
export declare type Row = Record<string, any>;
export declare type Col<RowT extends Row> = Extract<keyof RowT, string>;
export declare type Condition<RowT extends Record<string, BindValue>> = {
    [P in keyof RowT]?: BindValue;
};
export declare type Order = [string, 'asc' | 'desc'];
export declare type OrderBy = Order | Order[];
export declare type Opts = {
    offset?: number;
    limit?: number;
    order?: OrderBy;
};
export declare type SingleConnection = Connection | PoolConnection;
export declare type GlobalOpts = {
    onQuery?: (sql: string, values: BindValue[] | undefined, threadId: number) => void;
    onNewConnection?: (con: SingleConnection) => Promise<void> | void;
};
export interface QueryInterface {
    query<RowT extends Row>(sql: string, values?: BindValue[]): Promise<RowT[]>;
    queryOne<RowT extends Row>(sql: string, values?: BindValue[]): Promise<RowT>;
    select<RowT extends Row>(tableOrCols: string | Col<RowT>[], tableOrCond?: string | Condition<RowT>, condOrOpts?: Condition<RowT> | Opts, opts?: Opts): Promise<RowT[]>;
    selectOne<RowT extends Row>(tableOrCols: string | Col<RowT>[], tableOrCond?: string | Condition<RowT>, condOrOpts?: Condition<RowT> | Opts, opts?: Opts): Promise<RowT>;
    insert<RowT extends Row>(table: string, data: RowT | RowT[]): Promise<unknown>;
    update<RowT extends Row>(table: string, data: Partial<RowT>, where?: Condition<RowT>, opts?: Opts): Promise<unknown>;
    upsert<RowT extends Row>(table: string, data: RowT): Promise<unknown>;
    delete<RowT extends Row>(table: string, where?: Condition<RowT>, opts?: Opts): Promise<unknown>;
}
export declare type OptionalDefaultFields<TableT, DefaultFieldsT extends keyof TableT> = Omit<TableT, DefaultFieldsT> & Partial<Pick<TableT, DefaultFieldsT>>;
export declare type Con = QueryInterface;
export declare type Db = MySQL2Extended;
